# ## Gin Web 框架如何添加中间件（Middleware）
在 Web 开发中，我们要实现很多功能，例如：认证、授权、限流、熔断、设置请求/返回 Header（例如：请求 ID）、跨域等，这些都需要通过 Web 中间件的方式来实现。

简单来说，Web 中间件是 HTTP / RPC 请求必经的一个中间层，该中间层可以统一处理所有的请求，你可以根据需要开发不同功能的中间层。例如：你可以在中间层给所有的请求/返回头中添加 `X-Request-ID` 头，用以标识唯一一次请求，方便追踪、排障。

![[Pasted image 20230708163809.png]]

Middleware A -> Middleware B -> 主体函数 -> Middleware B -> Middleware A

这样一个过程可以起到请求前置拦截和后置拦截的功能
- **请求前置拦截：** Web 请求到达我们定义的 HTTP 请求处理方法之前，拦截请求并进行相应处理；
- **请求后置拦截：** 在处理完成请求并响应客户端时，拦截响应并进行相应的处理。

